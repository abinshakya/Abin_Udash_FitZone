{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Settings - FitZone Trainer</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root{
      --bg0:#f8f9fa;
      --bg1:#ffffff;
      --cardTop: rgba(255,255,255,0.95);
      --cardBot: rgba(248,249,250,0.95);
      --text:#1a1a1a;
      --muted: rgba(0,0,0,0.55);
      --border: rgba(0,0,0,0.10);
      --orange:#ff7a18;
      --orange2:#ff9a3c;
      --shadow: 0 22px 70px rgba(0,0,0,0.08);
      --shadowSoft: 0 16px 45px rgba(0,0,0,0.06);

      --red:#ef4444;
      --green:#22c55e;
      --blue:#3b82f6;
      --amber:#fbbf24;

      --gray100:#f3f4f6;
      --gray200:#e5e7eb;
    }

    *{ box-sizing: border-box; }
    body{
      margin: 0;
      font-family: "Poppins", system-ui, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1000px 520px at 18% 0%, rgba(255,122,24,0.22), transparent 60%),
        radial-gradient(900px 450px at 85% 10%, rgba(255,154,60,0.12), transparent 60%),
        linear-gradient(135deg, var(--bg0) 0%, var(--bg1) 100%);
      min-height: 100vh;
    }

    /* ---------- Layout ---------- */
    .dash{ min-height: 100vh; }

    /* ---------- Sidebar ---------- */
    .sidebar{
      width:220px;
      background:var(--bg0);
      border-right:1px solid rgba(0,0,0,0.06);
      display:flex;
      flex-direction:column;
      position:fixed;
      top:0;bottom:0;left:0;
      z-index:100;
    }
    .brand{display:flex;align-items:center;gap:12px;padding:22px 20px 18px}
    .brand-logo{
      width:40px;height:40px;border-radius:12px;
      background:linear-gradient(135deg,var(--orange),var(--orange2));
      display:flex;align-items:center;justify-content:center;
      font-size:18px;font-weight:900;color:#fff;
    }
    .brand-title{font-size:17px;font-weight:900;color:var(--text)}
    .brand-sub{font-size:10px;color:rgba(0,0,0,0.45);font-weight:700;text-transform:uppercase;letter-spacing:1px}
    .nav{display:flex;flex-direction:column;gap:2px;padding:0 10px;flex:1}
    .nav a{
      display:flex;align-items:center;gap:12px;
      padding:11px 14px;border-radius:10px;
      color:rgba(0,0,0,0.45);text-decoration:none;
      font-size:13px;font-weight:600;transition:all .2s;
    }
    .nav a:hover{background:rgba(0,0,0,0.04);color:var(--text)}
    .nav a.active{background:rgba(255,122,24,0.1);color:var(--orange)}
    .nav a i{width:18px;text-align:center;font-size:14px}
    .sidebar-footer{padding:16px 20px;border-top:1px solid rgba(0,0,0,0.06)}
    .logout{display:flex;align-items:center;gap:10px;color:rgba(0,0,0,0.35);text-decoration:none;font-size:13px;font-weight:600;transition:color .2s}
    .logout:hover{color:var(--red)}

    /* Sidebar unread badge (Chat) */
    .nav-badge{
      margin-left:auto;
      min-width:20px;
      height:20px;
      border-radius:50%;
      background:var(--orange);
      color:#fff;
      font-size:10px;
      font-weight:800;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:0 5px;
    }

    /* ---------- Main ---------- */
    .main{
      margin-left:220px;
      padding: 26px 26px 60px;
      max-width: 1400px;
    }

    .page-header{
      display: flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 28px;
    }

    .page-header h1{
      margin: 0;
      font-size: 1.9rem;
      font-weight: 1000;
      background: linear-gradient(135deg, #1a1a1a, var(--orange2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .page-header h1 i{
      -webkit-text-fill-color: var(--orange);
    }

    .back-btn{
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,0.10);
      background: rgba(0,0,0,0.03);
      color: rgba(0,0,0,0.65);
      text-decoration: none;
      font-weight: 700;
      font-size: 13px;
      transition: all 0.2s;
      margin-left: auto;
    }

    .back-btn:hover{
      border-color: rgba(255,122,24,0.3);
      background: rgba(255,122,24,0.06);
      color: var(--orange2);
      transform: translateY(-1px);
    }

    /* ---------- Cards ---------- */
    .card{
      background: linear-gradient(155deg, var(--cardTop) 0%, var(--cardBot) 100%);
      border: 1px solid rgba(0,0,0,0.08);
      border-radius: 22px;
      box-shadow: var(--shadowSoft);
      overflow: hidden;
      margin-bottom: 20px;
    }

    .card-head{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 20px 24px;
      border-bottom: 1px solid rgba(0,0,0,0.06);
    }

    .card-head h2{
      margin: 0;
      font-size: 1.25rem;
      font-weight: 950;
      color: #1a1a1a;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .card-icon-orange{ color: var(--orange); }
    .card-body{ padding: 24px; }

    /* Reusable links that were inline-styled */
    .card-action-link{
      color: var(--orange);
      font-size: 13px;
      font-weight: 700;
      text-decoration: none;
    }
    .card-action-link:hover{ text-decoration: underline; }

    /* ---------- Profile Picture ---------- */
    .profile-pic-section{
      display: flex;
      align-items: center;
      gap: 28px;
      flex-wrap: wrap;
    }

    .profile-pic-preview{
      width: 120px;
      height: 120px;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid rgba(255,122,24,0.35);
      flex-shrink: 0;
      box-shadow: 0 8px 30px rgba(255,122,24,0.12);
    }

    .profile-pic-preview img{
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .profile-pic-placeholder{
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255,122,24,0.2), rgba(255,154,60,0.1));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
      color: var(--orange);
    }

    .profile-pic-info h4{
      margin: 0 0 4px;
      font-size: 18px;
      font-weight: 800;
      color: #1a1a1a;
    }

    .profile-pic-info p{
      margin: 0 0 14px;
      font-size: 13px;
      color: rgba(0,0,0,0.40);
      font-weight: 600;
    }

    .profile-pic-form{
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .visually-hidden{ display:none; }

    /* Buttons that had inline max-width/margins */
    .btn-narrow{ max-width:220px; }
    .btn-spaced-top{ margin-top:10px; }

    /* ---------- Profile Details ---------- */
    .content-grid{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .profile-details{ padding: 24px; }

    .detail-row{
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      padding: 14px 0;
      border-bottom: 1px solid rgba(0,0,0,0.06);
    }

    .detail-row:last-child{ border-bottom: none; }

    .detail-label{
      color: rgba(0,0,0,0.45);
      font-size: 13px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .detail-label i{
      color: var(--orange);
      width: 16px;
      text-align: center;
    }

    .detail-value{
      color: #1a1a1a;
      font-size: 14px;
      font-weight: 700;
      text-align: right;
    }

    .specialization-tags{
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      justify-content: flex-end;
    }

    .spec-tag{
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 700;
      background: rgba(255,122,24,0.12);
      color: var(--orange2);
      border: 1px solid rgba(255,122,24,0.2);
    }

    .about-section{
      padding: 0 24px 24px;
      border-top: 1px solid rgba(0,0,0,0.06);
    }

    .about-title{
      color: var(--orange);
      font-size: 15px;
      font-weight: 800;
      margin: 18px 0 10px;
    }

    .about-text{
      color: rgba(0,0,0,0.65);
      line-height: 1.7;
      font-size: 13px;
      margin: 0;
    }

    /* ---------- Availability ---------- */
    .availability-item{
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 20px 24px;
    }

    .availability-icon{
      width: 48px;
      height: 48px;
      border-radius: 14px;
      background: rgba(59,130,246,0.12);
      color: var(--blue);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      flex-shrink: 0;
    }

    .availability-info h4{
      margin: 0;
      font-size: 14px;
      font-weight: 700;
      color: #1a1a1a;
    }

    .availability-info p{
      margin: 4px 0 0;
      font-size: 12px;
      color: rgba(0,0,0,0.40);
    }

    /* Empty state variants that were inline-styled */
    .empty-state{
      text-align: center;
      padding: 50px 20px;
    }

    .empty-icon{
      font-size: 64px;
      color: rgba(0,0,0,0.15);
      margin-bottom: 16px;
    }

    .empty-title{
      margin: 0 0 8px;
      font-size: 20px;
      font-weight: 900;
      color: rgba(0,0,0,0.55);
    }

    .empty-text{
      margin: 0;
      color: rgba(0,0,0,0.35);
      font-size: 14px;
    }

    .empty-state.compact{ padding: 30px 20px; }
    .empty-state.compact .empty-icon{ font-size: 40px; }
    .empty-state.compact .empty-title{ font-size: 16px; }

    /* Centered large empty card body */
    .centered-card-body{
      text-align: center;
      padding: 60px 20px;
    }

    /* Complete registration CTA (moved from inline) */
    .cta-link{
      display: inline-block;
      margin-top: 20px;
      padding: 12px 24px;
      background: linear-gradient(135deg, var(--orange), var(--orange2));
      color: #141416;
      text-decoration: none;
      border-radius: 12px;
      font-weight: 800;
    }
    .cta-link:hover{ filter: brightness(1.02); }

    /* ---------- Photo Gallery ---------- */
    .photo-upload{
      padding: 20px 24px;
      border-bottom: 1px solid rgba(0,0,0,0.06);
    }

    .form-group{ margin-bottom: 14px; }

    .form-label{
      display: block;
      color: rgba(0,0,0,0.5);
      margin-bottom: 8px;
      font-size: 13px;
      font-weight: 600;
    }

    .caption-input{
      width: 100%;
      padding: 10px 14px;
      background: rgba(0,0,0,0.03);
      border: 1px solid rgba(0,0,0,0.08);
      border-radius: 10px;
      color: #1a1a1a;
      font-size: 13px;
      font-family: inherit;
      transition: border-color 0.2s;
    }

    .caption-input:focus{
      outline: none;
      border-color: rgba(255,122,24,0.4);
    }

    .custom-file-button{
      width: 100%;
      padding: 12px;
      background: rgba(0,0,0,0.03);
      border: 1px solid rgba(0,0,0,0.10);
      border-radius: 10px;
      color: rgba(0,0,0,0.6);
      font-size: 13px;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .custom-file-button:hover{
      background: rgba(255,122,24,0.1);
      border-color: rgba(255,122,24,0.35);
      color: var(--orange);
      transform: translateY(-1px);
    }

    .upload-btn{
      width: 100%;
      padding: 12px;
      background: linear-gradient(135deg, var(--orange) 0%, var(--orange2) 100%);
      border: none;
      border-radius: 10px;
      color: #fff;
      font-weight: 700;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 14px;
    }

    .upload-btn:hover{
      transform: translateY(-1px);
      box-shadow: 0 8px 24px rgba(255,122,24,0.25);
    }

    .photo-grid{
      padding: 20px 24px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
    }

    .photo-card{
      position: relative;
      border-radius: 14px;
      overflow: hidden;
      background: rgba(0,0,0,0.03);
      border: 1px solid rgba(0,0,0,0.06);
      transition: all 0.2s;
    }

    .photo-card:hover{
      border-color: rgba(255,122,24,0.25);
      transform: translateY(-2px);
    }

    .photo-card img{
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }

    .photo-caption{
      padding: 8px 10px 10px;
      background: rgba(0,0,0,0.55);
      backdrop-filter: blur(4px);
    }

    .photo-caption p{
      color: rgba(255,255,255,0.92);
      font-size: 13px;
      margin: 0;
      font-weight: 600;
    }

    .photo-delete{
      position: absolute;
      top: 8px;
      right: 8px;
      background: rgba(220,53,69,0.92);
      color: #fff;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      font-size: 12px;
      transition: all 0.2s;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }

    .photo-delete:hover{
      background: rgba(220,53,69,1);
      transform: scale(1.1);
    }

    /* ---------- Toast Messages ---------- */
    .toast-container{
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 9999;
      max-width: 400px;
    }

    .toast-msg{
      margin-bottom: 12px;
      padding: 14px 18px;
      border-radius: 12px;
      color: #fff;
      box-shadow: 0 10px 30px rgba(0,0,0,0.18);
      display: flex;
      align-items: center;
      gap: 12px;
      animation: toastIn 0.3s ease-out;
      font-size: 14px;
      font-weight: 600;
      backdrop-filter: blur(6px);
    }

    .toast-msg.toast-success{
      background: rgba(34,197,94,0.15);
      border-left: 4px solid var(--green);
    }

    .toast-msg.toast-error{
      background: rgba(239,68,68,0.15);
      border-left: 4px solid var(--red);
    }

    .toast-msg.toast-warning{
      background: rgba(251,191,36,0.15);
      border-left: 4px solid var(--amber);
    }

    .toast-msg.toast-info{
      background: rgba(59,130,246,0.15);
      border-left: 4px solid var(--blue);
    }

    .toast-icon{ font-size: 18px; }
    .toast-success .toast-icon{ color: var(--green); }
    .toast-error .toast-icon{ color: var(--red); }
    .toast-warning .toast-icon{ color: var(--amber); }
    .toast-info .toast-icon{ color: var(--blue); }

    .toast-close{
      margin-left: auto;
      background: none;
      border: none;
      color: rgba(255,255,255,0.5);
      font-size: 16px;
      cursor: pointer;
      transition: color 0.2s;
    }

    .toast-close:hover{ color: #fff; }

    @keyframes toastIn{
      from{ transform: translateX(100%); opacity: 0; }
      to{ transform: translateX(0); opacity: 1; }
    }

    @keyframes toastOut{
      from{ transform: translateX(0); opacity: 1; }
      to{ transform: translateX(100%); opacity: 0; }
    }

    /* ---------- Responsive ---------- */
    @media (max-width: 900px) {
      .sidebar{width:64px}
      .brand>div,.nav a span,.sidebar-footer span{display:none}
      .nav a{justify-content:center;padding:12px}
      .main{margin-left:64px}
    }
    @media (max-width: 600px) {
      .sidebar{display:none}
      .main{margin-left:0}

      .content-grid { grid-template-columns: 1fr; }
      .photo-grid { grid-template-columns: 1fr; }

      .profile-pic-section {
        flex-direction: column;
        text-align: center;
      }

      .page-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }

      .back-btn { margin-left: 0; }
    }
  </style>
</head>

<body>
  <div class="dash">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-logo">FZ</div>
        <div>
          <div class="brand-title">FitZone</div>
          <div class="brand-sub">Trainer Dashboard</div>
        </div>
      </div>

      <nav class="nav">
        <a href="{% url 'trainer_dashboard' %}"><i class="fa-solid fa-house"></i> Dashboard</a>

        <a href="{% url 'trainer_chat' %}">
          <i class="fa-solid fa-comments"></i> Chat
          {% if chat_unread_count > 0 %}
            <span class="nav-badge">{{ chat_unread_count }}</span>
          {% endif %}
        </a>

        <a href="{% url 'trainer_client_list' %}"><i class="fa-solid fa-clipboard-list"></i> Client Plans</a>
        <a href="{% url 'trainer_settings' %}" class="active"><i class="fa-solid fa-gear"></i> Settings</a>
        <a href="/"><i class="fa-solid fa-home"></i> Home</a>
      </nav>

      <div class="sidebar-footer">
        <a href="{% url 'logout' %}" class="logout">
          <i class="fa-solid fa-right-from-bracket"></i>
          Logout
        </a>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <!-- Toast Messages -->
      {% if messages %}
        <div id="toastContainer" class="toast-container">
          {% for message in messages %}
            <div class="toast-msg {% if message.tags == 'success' %}toast-success{% elif message.tags == 'error' %}toast-error{% elif message.tags == 'warning' %}toast-warning{% else %}toast-info{% endif %}">
              <i class="fas {% if message.tags == 'success' %}fa-check-circle{% elif message.tags == 'error' %}fa-exclamation-circle{% elif message.tags == 'warning' %}fa-exclamation-triangle{% else %}fa-info-circle{% endif %} toast-icon"></i>
              <span>{{ message }}</span>
              <button onclick="this.parentElement.remove()" class="toast-close"><i class="fas fa-times"></i></button>
            </div>
          {% endfor %}
        </div>

        <script>
          setTimeout(function(){
            var alerts = document.querySelectorAll('.toast-msg');
            alerts.forEach(function(a){
              a.style.animation = 'toastOut 0.3s ease-out';
              setTimeout(function(){ a.remove(); }, 300);
            });
          }, 5000);
        </script>
      {% endif %}

      <!-- Page Header -->
      <div class="page-header">
        <h1><i class="fa-solid fa-gear"></i> Settings</h1>
        <a href="{% url 'trainer_dashboard' %}" class="back-btn">
          <i class="fas fa-arrow-left"></i> Back to Dashboard
        </a>
      </div>

      {% if registration %}

        <!-- Profile Picture Card -->
        <div class="card">
          <div class="card-head">
            <h2><i class="fa-solid fa-camera card-icon-orange"></i> Profile Picture</h2>
          </div>

          <div class="card-body">
            <div class="profile-pic-section">
              <div class="profile-pic-preview">
                {% if registration.get_profile_picture %}
                  <img src="{{ registration.get_profile_picture.file.url }}" alt="Profile Picture">
                {% else %}
                  <div class="profile-pic-placeholder">
                    <i class="fas fa-user"></i>
                  </div>
                {% endif %}
              </div>

              <div class="profile-pic-info">
                <h4>{{ request.user.get_full_name|default:request.user.username }}</h4>
                <p>{{ request.user.email }}</p>

                <form method="post" action="{% url 'update_profile_picture' %}" enctype="multipart/form-data" class="profile-pic-form">
                  {% csrf_token %}

                  <input type="file" name="profile_picture" accept="image/*" required id="profilePicInput" class="visually-hidden">

                  <button type="button" onclick="document.getElementById('profilePicInput').click()" class="custom-file-button btn-narrow">
                    <i class="fas fa-camera"></i>
                    <span id="profilePicName">Choose Photo</span>
                  </button>

                  <button type="submit" class="upload-btn btn-narrow btn-spaced-top">
                    <i class="fas fa-upload"></i> Update Picture
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- Profile Details + Availability Grid -->
        <div class="content-grid">
          <!-- Profile Details Card -->
          <div class="card">
            <div class="card-head">
              <h2><i class="fa-solid fa-user-circle card-icon-orange"></i> Profile Details</h2>
              <a href="{% url 'edit_trainer_profile' %}" class="card-action-link">
                <i class="fas fa-edit"></i> Edit
              </a>
            </div>

            <div class="profile-details">
              <div class="detail-row">
                <span class="detail-label"><i class="fas fa-certificate"></i> Experience</span>
                <span class="detail-value">{{ registration.experience }} Years</span>
              </div>

              <div class="detail-row">
                <span class="detail-label"><i class="fas fa-dumbbell"></i> Specialization</span>
                <div class="specialization-tags">
                  {% for spec in specializations %}
                    <span class="spec-tag">{{ spec }}</span>
                  {% empty %}
                    <span class="detail-value">Not specified</span>
                  {% endfor %}
                </div>
              </div>

              <div class="detail-row">
                <span class="detail-label"><i class="fas fa-rupee-sign"></i> Monthly Price</span>
                <span class="detail-value">â‚¹{{ registration.monthly_price|default:"Not Set" }}</span>
              </div>

              <div class="detail-row">
                <span class="detail-label"><i class="fas fa-info-circle"></i> Bio</span>
                <span class="detail-value">{{ registration.bio|default:"No bio added"|truncatewords:20 }}</span>
              </div>

              <div class="detail-row">
                <span class="detail-label"><i class="fas fa-calendar-check"></i> Registered On</span>
                <span class="detail-value">{{ registration.submitted_at|date:"M d, Y" }}</span>
              </div>
            </div>

            {% if registration.bio %}
              <div class="about-section">
                <h4 class="about-title"><i class="fas fa-quote-left"></i> About Me</h4>
                <p class="about-text">{{ registration.bio }}</p>
              </div>
            {% endif %}
          </div>

          <!-- Availability Card -->
          <div class="card">
            <div class="card-head">
              <h2><i class="fa-solid fa-clock card-icon-orange"></i> Availability</h2>
              <a href="{% url 'edit_trainer_profile' %}" class="card-action-link">
                <i class="fas fa-edit"></i> Update
              </a>
            </div>

            {% if registration.available_time %}
              <div class="availability-item">
                <div class="availability-icon">
                  <i class="fas fa-calendar-week"></i>
                </div>
                <div class="availability-info">
                  <h4>{{ registration.available_time }}</h4>
                  <p>Available time slots</p>
                </div>
              </div>
            {% else %}
              <div class="card-body">
                <div class="empty-state compact">
                  <div class="empty-icon"><i class="fas fa-calendar-times"></i></div>
                  <h3 class="empty-title">No Availability Set</h3>
                  <p class="empty-text">Add your available time slots</p>
                </div>
              </div>
            {% endif %}
          </div>
        </div>

        <!-- Photo Gallery Card -->
        <div class="card">
          <div class="card-head">
            <h2><i class="fa-solid fa-images card-icon-orange"></i> Photo Gallery</h2>
          </div>

          <!-- Upload Form -->
          <form method="post" action="{% url 'upload_trainer_photo' %}" enctype="multipart/form-data" class="photo-upload">
            {% csrf_token %}

            <div class="form-group">
              <label class="form-label"><i class="fas fa-image"></i> Select Photo</label>
              <input type="file" name="photo" accept="image/*" required id="photoFileInput" class="visually-hidden">
              <button type="button" onclick="document.getElementById('photoFileInput').click()" class="custom-file-button">
                <i class="fas fa-folder-open"></i>
                <span id="fileNameDisplay">Choose File</span>
              </button>
            </div>

            <div class="form-group">
              <label class="form-label"><i class="fas fa-comment"></i> Caption (Optional)</label>
              <input type="text" name="caption" placeholder="Add a caption..." class="caption-input">
            </div>

            <button type="submit" class="upload-btn"><i class="fas fa-upload"></i> Upload Photo</button>
          </form>

          <!-- Photo Grid -->
          {% if photos %}
            <div class="photo-grid">
              {% for photo in photos %}
                <div class="photo-card">
                  <img src="{{ photo.photo.url }}" alt="{{ photo.caption }}">
                  {% if photo.caption %}
                    <div class="photo-caption"><p>{{ photo.caption }}</p></div>
                  {% endif %}
                  <a href="{% url 'delete_trainer_photo' photo.id %}"
                     onclick="return confirm('Are you sure you want to delete this photo?');"
                     class="photo-delete">
                    <i class="fas fa-times"></i>
                  </a>
                </div>
              {% endfor %}
            </div>
          {% else %}
            <div class="card-body">
              <div class="empty-state compact">
                <div class="empty-icon"><i class="fas fa-camera"></i></div>
                <h3 class="empty-title">No Photos Yet</h3>
                <p class="empty-text">Upload photos to showcase your work</p>
              </div>
            </div>
          {% endif %}
        </div>

      {% else %}
        <div class="card">
          <div class="card-body centered-card-body">
            <div class="empty-icon"><i class="fa-solid fa-user-slash"></i></div>
            <h3 class="empty-title">Registration Incomplete</h3>
            <p class="empty-text">Please complete your trainer registration to access settings</p>
            <a href="{% url 'trainerregestration' %}" class="cta-link">
              Complete Registration
            </a>
          </div>
        </div>
      {% endif %}
    </main>
  </div>

  <script>
    // Photo file input display
    (function(){
      var input = document.getElementById('photoFileInput');
      var display = document.getElementById('fileNameDisplay');
      if(input && display){
        input.addEventListener('change', function(e){
          display.textContent = e.target.files[0] ? e.target.files[0].name : 'Choose File';
        });
      }
    })();

    // Profile picture file input display
    (function(){
      var input = document.getElementById('profilePicInput');
      var display = document.getElementById('profilePicName');
      if(input && display){
        input.addEventListener('change', function(e){
          display.textContent = e.target.files[0] ? e.target.files[0].name : 'Choose Photo';
        });
      }
    })();
  </script>

</body>
</html>
